{"ast":null,"code":"import _objectSpread from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useEffect,useState}from'react';export var useIntersect=function useIntersect(onIntersect,option){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),ref=_useState2[0],setRef=_useState2[1];var checkIntersect=useCallback(function(_ref,observer){var _ref2=_slicedToArray(_ref,1),entry=_ref2[0];if(entry.isIntersecting){onIntersect(entry,observer);}},[]);useEffect(function(){var observer;if(ref){observer=new IntersectionObserver(checkIntersect,_objectSpread({},option));observer.observe(ref);}return function(){return observer&&observer.disconnect();};},[ref,option.root,option.threshold,option.rootMargin,checkIntersect]);return[ref,setRef];};","map":{"version":3,"names":["useCallback","useEffect","useState","useIntersect","onIntersect","option","ref","setRef","checkIntersect","observer","entry","isIntersecting","IntersectionObserver","observe","disconnect","root","threshold","rootMargin"],"sources":["/Users/singco/dev/projects/S07P12C104/client/src/hook/useIntersect.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\n\nexport const useIntersect = (onIntersect, option) => {\n\tconst [ref, setRef] = useState(null);\n\tconst checkIntersect = useCallback(([entry], observer) => {\n\t\tif (entry.isIntersecting) {\n\t\t\tonIntersect(entry, observer);\n\t\t}\n\t}, []);\n\tuseEffect(() => {\n\t\tlet observer;\n\t\tif (ref) {\n\t\t\tobserver = new IntersectionObserver(checkIntersect, {\n\t\t\t\t...option,\n\t\t\t});\n\t\t\tobserver.observe(ref);\n\t\t}\n\t\treturn () => observer && observer.disconnect();\n\t}, [ref, option.root, option.threshold, option.rootMargin, checkIntersect]);\n\treturn [ref, setRef];\n};\n"],"mappings":"mQAAA,OAASA,WAAT,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CAEA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,WAAD,CAAcC,MAAd,CAAyB,CACpD,cAAsBH,QAAQ,CAAC,IAAD,CAA9B,wCAAOI,GAAP,eAAYC,MAAZ,eACA,GAAMC,eAAc,CAAGR,WAAW,CAAC,cAAUS,QAAV,CAAuB,kCAArBC,KAAqB,UACzD,GAAIA,KAAK,CAACC,cAAV,CAA0B,CACzBP,WAAW,CAACM,KAAD,CAAQD,QAAR,CAAX,CACA,CACD,CAJiC,CAI/B,EAJ+B,CAAlC,CAKAR,SAAS,CAAC,UAAM,CACf,GAAIQ,SAAJ,CACA,GAAIH,GAAJ,CAAS,CACRG,QAAQ,CAAG,GAAIG,qBAAJ,CAAyBJ,cAAzB,kBACPH,MADO,EAAX,CAGAI,QAAQ,CAACI,OAAT,CAAiBP,GAAjB,EACA,CACD,MAAO,kBAAMG,SAAQ,EAAIA,QAAQ,CAACK,UAAT,EAAlB,EAAP,CACA,CATQ,CASN,CAACR,GAAD,CAAMD,MAAM,CAACU,IAAb,CAAmBV,MAAM,CAACW,SAA1B,CAAqCX,MAAM,CAACY,UAA5C,CAAwDT,cAAxD,CATM,CAAT,CAUA,MAAO,CAACF,GAAD,CAAMC,MAAN,CAAP,CACA,CAlBM"},"metadata":{},"sourceType":"module"}