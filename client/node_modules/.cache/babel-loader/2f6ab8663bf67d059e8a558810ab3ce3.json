{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _regeneratorRuntime from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useState}from'react';/** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import{useNavigate}from'react-router-dom';import Button from'../../components/Common/Button/Button';import common from'../../constants/commonStyle';import colors from'../../constants/colors';import{ReactComponent as Heart}from'../../assets/heart_active.svg';import{modifyArticleLike}from'../../api/article';import{useGlobalContext}from'../../contexts/GlobalContext';import{useUserState}from'../../context/User/UserContext';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";var ArticleBottom=function ArticleBottom(_ref){var articleId=_ref.articleId,isLiked=_ref.isLiked,likeCnt=_ref.likeCnt,rentPrice=_ref.rentPrice,userId=_ref.userId;var _useGlobalContext=useGlobalContext(),setHasBottom=_useGlobalContext.setHasBottom;useEffect(function(){setHasBottom(true);return function(){setHasBottom(false);};},[]);var _useState=useState(isLiked),_useState2=_slicedToArray(_useState,2),liked=_useState2[0],setLiked=_useState2[1];var _useState3=useState(likeCnt),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var heartClickHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.stopPropagation();_context.next=3;return modifyArticleLike();case 3:data=_context.sent;if(data.result==='success'){setLiked(!liked);liked?setCount(count-1):setCount(count+1);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function heartClickHandler(_x){return _ref2.apply(this,arguments);};}();var navigate=useNavigate();var _useUserState=useUserState(),loginedUserId=_useUserState.loginedUserId;return _jsxs(\"div\",{css:css(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\tflex-direction: row;\\n\\t\\t\\t\\tjustify-content: space-between;\\n\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\tmax-width: 1200px;\\n\\t\\t\\t\\tpadding: 30px;\\n\\t\\t\\t\\tposition: fixed;\\n\\t\\t\\t\\tbottom: 0;\\n\\t\\t\\t\\tz-index: 100;\\n\\t\\t\\t\\theight: \",\";\\n\\t\\t\\t\\tbox-shadow: 0 0.2px \",\";\\n\\t\\t\\t\"])),common.bottomHeaderHeight,colors.text),children:[_jsxs(\"div\",{css:css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\t\"]))),children:[_jsxs(\"div\",{onClick:heartClickHandler,children:[_jsx(Heart,{fill:liked?'red':'white',stroke:liked?'red':'black'}),_jsx(\"div\",{className:\"fw-500 fs-16\",style:{lineHeight:'22.59px'},children:count})]}),_jsxs(\"div\",{css:css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\t\\talign-items: center;\\n\\t\\t\\t\\t\\t\\tpadding-left: 22px;\\n\\t\\t\\t\\t\\t\"]))),children:[_jsx(\"span\",{className:\"fw-400 fs-20\",style:{lineHeight:'34.75px'},children:\"\\uC77C\"}),_jsxs(\"span\",{className:\"fw-700 fs-24\",style:{paddingLeft:'8px',lineHeight:'28.8px'},children:[rentPrice,\"\\uC6D0\"]})]})]}),_jsx(\"div\",{style:{width:133},children:loginedUserId===userId?_jsx(Button,{type:\"active\",label:\"\\uC218\\uC815\\uD558\\uAE30\",style:{padding:10},onClick:function onClick(){return navigate(\"/article/modify/\".concat(articleId));}}):_jsx(Button,{type:\"active\",label:\"\\uCC44\\uD305\\uD558\\uAE30\",style:{padding:10},onClick:function onClick(){return navigate('/chat/room',{state:{roomId:null,receiverId:userId}});}})})]});};export default ArticleBottom;","map":{"version":3,"names":["React","useEffect","useState","css","useNavigate","Button","common","colors","ReactComponent","Heart","modifyArticleLike","useGlobalContext","useUserState","ArticleBottom","articleId","isLiked","likeCnt","rentPrice","userId","setHasBottom","liked","setLiked","count","setCount","heartClickHandler","e","stopPropagation","data","result","navigate","loginedUserId","bottomHeaderHeight","text","lineHeight","paddingLeft","width","padding","state","roomId","receiverId"],"sources":["/Users/singco/dev/projects/S07P12C104/client/src/components/Feed/ArticleBottom.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useNavigate } from 'react-router-dom';\n\nimport Button from '../../components/Common/Button/Button';\nimport common from '../../constants/commonStyle';\nimport colors from '../../constants/colors';\nimport { ReactComponent as Heart } from '../../assets/heart_active.svg';\nimport { modifyArticleLike } from '../../api/article';\nimport { useGlobalContext } from '../../contexts/GlobalContext';\nimport { useUserState } from '../../context/User/UserContext';\n\nconst ArticleBottom = ({ articleId, isLiked, likeCnt, rentPrice, userId }) => {\n\tconst { setHasBottom } = useGlobalContext();\n\tuseEffect(() => {\n\t\tsetHasBottom(true);\n\t\treturn () => {\n\t\t\tsetHasBottom(false);\n\t\t};\n\t}, []);\n\tconst [liked, setLiked] = useState(isLiked);\n\tconst [count, setCount] = useState(likeCnt);\n\tconst heartClickHandler = async e => {\n\t\te.stopPropagation();\n\t\tconst data = await modifyArticleLike();\n\t\tif (data.result === 'success') {\n\t\t\tsetLiked(!liked);\n\t\t\tliked ? setCount(count - 1) : setCount(count + 1);\n\t\t}\n\t};\n\tconst navigate = useNavigate();\n\tconst { loginedUserId } = useUserState();\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\twidth: 100%;\n\t\t\t\tmax-width: 1200px;\n\t\t\t\tpadding: 30px;\n\t\t\t\tposition: fixed;\n\t\t\t\tbottom: 0;\n\t\t\t\tz-index: 100;\n\t\t\t\theight: ${common.bottomHeaderHeight};\n\t\t\t\tbox-shadow: 0 0.2px ${colors.text};\n\t\t\t`}\n\t\t>\n\t\t\t{/* 찜, 대여 가격 */}\n\t\t\t<div\n\t\t\t\tcss={css`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t`}\n\t\t\t>\n\t\t\t\t{/* 찜 */}\n\t\t\t\t<div onClick={heartClickHandler}>\n\t\t\t\t\t<Heart fill={liked ? 'red' : 'white'} stroke={liked ? 'red' : 'black'} />\n\t\t\t\t\t<div className=\"fw-500 fs-16\" style={{ lineHeight: '22.59px' }}>\n\t\t\t\t\t\t{count}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{/* 대여 가격 */}\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tpadding-left: 22px;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"fw-400 fs-20\" style={{ lineHeight: '34.75px' }}>\n\t\t\t\t\t\t일\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"fw-700 fs-24\" style={{ paddingLeft: '8px', lineHeight: '28.8px' }}>\n\t\t\t\t\t\t{rentPrice}원\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* 채팅하기 버튼 */}\n\t\t\t<div style={{ width: 133 }}>\n\t\t\t\t{loginedUserId === userId ? (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"active\"\n\t\t\t\t\t\tlabel=\"수정하기\"\n\t\t\t\t\t\tstyle={{ padding: 10 }}\n\t\t\t\t\t\tonClick={() => navigate(`/article/modify/${articleId}`)}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"active\"\n\t\t\t\t\t\tlabel=\"채팅하기\"\n\t\t\t\t\t\tstyle={{ padding: 10 }}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tnavigate('/chat/room', {\n\t\t\t\t\t\t\t\tstate: { roomId: null, receiverId: userId },\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ArticleBottom;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}