{"ast":null,"code":"var _jsxFileName = \"/Users/singco/dev/projects/S07P12C104/client/src/pages/Index/Index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from 'react';\nimport Button from '../../components/Common/Button/Button';\nimport Logo from '../../assets/logo.svg';\nimport { login } from '../../api/auth';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst callKakaoLoginHandler = () => {\n  window.location.href = `https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_KAKAO_REST_API_KEY}&redirect_uri=${process.env.REACT_APP_CLIENT_URI}/kakao`;\n};\n\nconst onGoogleSuccess = async googleUser => {\n  const token = googleUser.getAuthResponse().id_token;\n  const body = {\n    loginType: 'Google',\n    token: token\n  }; // 서버로 id_token, 구글토큰임을 알리고\n\n  try {\n    const res = await login(body);\n  } catch (err) {\n    throw err;\n  } // 로그인 회원가입 정하기\n\n};\n\nconst onGoogleFailure = err => {\n  console.log('err', err);\n};\n\nconst Index = () => {\n  _s();\n\n  const googleButtonRef = useRef(null);\n  const navigate = useNavigate();\n\n  const aboutClickHandler = () => {\n    navigate('/about');\n  };\n\n  useEffect(() => {\n    const loadScript = src => new Promise((resolve, reject) => {\n      if (document.querySelector(`script[src=\"${src}\"]`)) return resolve();\n      const script = document.createElement('script');\n      script.src = src;\n\n      script.onload = () => resolve();\n\n      script.onerror = err => reject(err);\n\n      document.body.appendChild(script);\n    });\n\n    const src = 'https://apis.google.com/js/platform.js?onload=init';\n    loadScript(src).then(() => {\n      /*global gapi*/\n      gapi.load('client:auth2', () => {\n        gapi.client.init({\n          client_id: process.env.REACT_APP_GOOGLE_CLIENT_KEY,\n          scope: 'profile email',\n          plugin_name: 'chat'\n        }).then(() => {\n          const gauth = gapi.auth2.getAuthInstance();\n          gauth.attachClickHandler(googleButtonRef.current, {\n            ux_mode: 'redirect',\n            redirect_uri: `${process.env.REACT_APP_CLIENT_URI}/oauth/redirect`\n          }, onGoogleSuccess, onGoogleFailure);\n        });\n      });\n    }).catch(console.error);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: '30px 30px 240px',\n      width: '100%',\n      height: '100%',\n      position: 'relative',\n      backgroundColor: '#63D8B1'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: Logo,\n        alt: \"\",\n        style: {\n          padding: '30px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"fs-17 fw-700 fc-w\",\n      children: \"\\uB108\\uC640 \\uB098\\uC758 \\uACF5\\uC720 \\uC637\\uC7A5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"fs-47 fw-900 fc-w\",\n      children: \"FITWEEN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"outlined\",\n      label: \"About \\u2192\",\n      className: \"fc-w\",\n      onClick: aboutClickHandler,\n      style: {\n        display: 'inline-block',\n        padding: '0 18px',\n        margin: '10px 0',\n        width: 'auto',\n        fontFamily: 'Medium',\n        border: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '100px',\n        width: '80%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"google\",\n        label: \"\\uAD6C\\uAE00\\uB85C \\uACC4\\uC18D\\uD558\\uAE30\",\n        ref: googleButtonRef,\n        style: {\n          borderRadius: '10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Index, \"e5zyYSyOpSjalKbnYMqfeYrEeLc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"names":["React","useEffect","useRef","Button","Logo","login","useNavigate","callKakaoLoginHandler","window","location","href","process","env","REACT_APP_KAKAO_REST_API_KEY","REACT_APP_CLIENT_URI","onGoogleSuccess","googleUser","token","getAuthResponse","id_token","body","loginType","res","err","onGoogleFailure","console","log","Index","googleButtonRef","navigate","aboutClickHandler","loadScript","src","Promise","resolve","reject","document","querySelector","script","createElement","onload","onerror","appendChild","then","gapi","load","client","init","client_id","REACT_APP_GOOGLE_CLIENT_KEY","scope","plugin_name","gauth","auth2","getAuthInstance","attachClickHandler","current","ux_mode","redirect_uri","catch","error","display","flexDirection","justifyContent","alignItems","padding","width","height","position","backgroundColor","margin","fontFamily","border","bottom","borderRadius"],"sources":["/Users/singco/dev/projects/S07P12C104/client/src/pages/Index/Index.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport Button from '../../components/Common/Button/Button';\nimport Logo from '../../assets/logo.svg';\nimport { login } from '../../api/auth';\nimport { useNavigate } from 'react-router-dom';\n\nconst callKakaoLoginHandler = () => {\n\twindow.location.href = `https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_KAKAO_REST_API_KEY}&redirect_uri=${process.env.REACT_APP_CLIENT_URI}/kakao`;\n};\n\nconst onGoogleSuccess = async googleUser => {\n\tconst token = googleUser.getAuthResponse().id_token;\n\n\tconst body = {\n\t\tloginType: 'Google',\n\t\ttoken: token,\n\t};\n\n\t// 서버로 id_token, 구글토큰임을 알리고\n\ttry {\n\t\tconst res = await login(body);\n\t} catch (err) {\n\t\tthrow err;\n\t}\n\t// 로그인 회원가입 정하기\n};\n\nconst onGoogleFailure = err => {\n\tconsole.log('err', err);\n};\n\nconst Index = () => {\n\tconst googleButtonRef = useRef(null);\n\tconst navigate = useNavigate();\n\n\tconst aboutClickHandler = () => {\n\t\tnavigate('/about');\n\t};\n\n\tuseEffect(() => {\n\t\tconst loadScript = src =>\n\t\t\tnew Promise((resolve, reject) => {\n\t\t\t\tif (document.querySelector(`script[src=\"${src}\"]`)) return resolve();\n\t\t\t\tconst script = document.createElement('script');\n\n\t\t\t\tscript.src = src;\n\t\t\t\tscript.onload = () => resolve();\n\t\t\t\tscript.onerror = err => reject(err);\n\t\t\t\tdocument.body.appendChild(script);\n\t\t\t});\n\n\t\tconst src = 'https://apis.google.com/js/platform.js?onload=init';\n\n\t\tloadScript(src)\n\t\t\t.then(() => {\n\t\t\t\t/*global gapi*/\n\t\t\t\tgapi.load('client:auth2', () => {\n\t\t\t\t\tgapi.client\n\t\t\t\t\t\t.init({\n\t\t\t\t\t\t\tclient_id: process.env.REACT_APP_GOOGLE_CLIENT_KEY,\n\t\t\t\t\t\t\tscope: 'profile email',\n\t\t\t\t\t\t\tplugin_name: 'chat',\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconst gauth = gapi.auth2.getAuthInstance();\n\t\t\t\t\t\t\tgauth.attachClickHandler(\n\t\t\t\t\t\t\t\tgoogleButtonRef.current,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tux_mode: 'redirect',\n\t\t\t\t\t\t\t\t\tredirect_uri: `${process.env.REACT_APP_CLIENT_URI}/oauth/redirect`,\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\tonGoogleSuccess,\n\t\t\t\t\t\t\t\tonGoogleFailure,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(console.error);\n\t}, []);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"wrapper\"\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\tjustifyContent: 'center',\n\t\t\t\talignItems: 'center',\n\t\t\t\tpadding: '30px 30px 240px',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tposition: 'relative',\n\t\t\t\tbackgroundColor: '#63D8B1',\n\t\t\t}}\n\t\t>\n\t\t\t<div>\n\t\t\t\t<img\n\t\t\t\t\tsrc={Logo}\n\t\t\t\t\talt=\"\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tpadding: '30px',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<h2 className=\"fs-17 fw-700 fc-w\">너와 나의 공유 옷장</h2>\n\t\t\t<h1 className=\"fs-47 fw-900 fc-w\">FITWEEN</h1>\n\t\t\t<Button\n\t\t\t\ttype=\"outlined\"\n\t\t\t\tlabel=\"About →\"\n\t\t\t\tclassName=\"fc-w\"\n\t\t\t\tonClick={aboutClickHandler}\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\tpadding: '0 18px',\n\t\t\t\t\tmargin: '10px 0',\n\t\t\t\t\twidth: 'auto',\n\t\t\t\t\tfontFamily: 'Medium',\n\t\t\t\t\tborder: 'none',\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tbottom: '100px',\n\t\t\t\t\twidth: '80%',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"google\"\n\t\t\t\t\tlabel=\"구글로 계속하기\"\n\t\t\t\t\tref={googleButtonRef}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborderRadius: '10px',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Index;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}