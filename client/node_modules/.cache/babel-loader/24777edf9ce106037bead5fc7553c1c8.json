{"ast":null,"code":"var _jsxFileName = \"/Users/singco/dev/projects/S07P12C104/client/src/components/Profile/ProfileButton.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\n/** @jsxImportSource @emotion/react */\n\nimport { css } from '@emotion/react';\nimport colors from '../../constants/colors';\nimport Button from '../../components/Common/Button/Button';\nimport { useNavigate } from 'react-router-dom';\nimport { getUserInfo, doFollow, cancelFollow } from '../../api/user';\nimport { jsxDEV as _jsxDEV } from \"@emotion/react/jsx-dev-runtime\";\n\nconst ProfileButton = _ref => {\n  _s();\n\n  let {\n    userId,\n    isFollowed,\n    setProfileInfo\n  } = _ref;\n  const navigate = useNavigate();\n  const [userid, setUserid] = useState('');\n  const [followed, setFollowed] = useState(isFollowed);\n  useEffect(() => {\n    const fetch = async () => {\n      const data = await getUserInfo();\n      setUserid(data.userInfo.userId);\n    };\n\n    fetch();\n  }, []);\n\n  const doFollowClickHandler = async () => {\n    const ret = await doFollow();\n\n    if (ret.result === 'success') {\n      setFollowed(!followed);\n      setProfileInfo(profileInfo => {\n        return { ...profileInfo,\n          userFollowedCnt: profileInfo.userFollowedCnt + 1\n        };\n      });\n    }\n  };\n\n  const cancelFollowClickHandler = async () => {\n    const ret = await cancelFollow();\n\n    if (ret.result === 'success') {\n      setFollowed(!followed);\n      setProfileInfo(profileInfo => {\n        return { ...profileInfo,\n          userFollowedCnt: profileInfo.userFollowedCnt - 1\n        };\n      });\n    }\n  };\n\n  return _jsxDEV(\"div\", {\n    css: css`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 14px;\n\t\t\t`,\n    children: [followed ? _jsxDEV(Button, {\n      css: css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tmargin: 10px;\n\t\t\t\t\t\tborder: 2px solid ${colors.green100};\n\t\t\t\t\t\tborder-radius: 14px;\n\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t`,\n      type: \"active\",\n      label: \"FOLLOW\",\n      onClick: doFollowClickHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this) : _jsxDEV(Button, {\n      css: css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tmargin: 10px;\n\t\t\t\t\t\tborder: 2px solid ${colors.green100};\n\t\t\t\t\t\tborder-radius: 14px;\n\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t`,\n      type: \"outlined\",\n      label: \"UNFOLLOW\",\n      onClick: cancelFollowClickHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this), _jsxDEV(Button, {\n      css: css`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t\tmargin: 10px;\n\t\t\t\t\tborder: 2px solid ${colors.green100};\n\t\t\t\t\tborder-radius: 14px;\n\t\t\t\t\tbox-shadow: none;\n\t\t\t\t`,\n      type: \"outlined\",\n      label: \"CHAT\",\n      onClick: () => navigate('/chat/room', {\n        state: {\n          roomId: null,\n          receiverId: userId\n        }\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ProfileButton, \"gioM2O8z/EEzl8JuZcVaXRS3a+g=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ProfileButton;\nexport default ProfileButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileButton\");","map":{"version":3,"names":["React","useState","useEffect","css","colors","Button","useNavigate","getUserInfo","doFollow","cancelFollow","ProfileButton","userId","isFollowed","setProfileInfo","navigate","userid","setUserid","followed","setFollowed","fetch","data","userInfo","doFollowClickHandler","ret","result","profileInfo","userFollowedCnt","cancelFollowClickHandler","green100","state","roomId","receiverId"],"sources":["/Users/singco/dev/projects/S07P12C104/client/src/components/Profile/ProfileButton.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\n\nimport colors from '../../constants/colors';\nimport Button from '../../components/Common/Button/Button';\nimport { useNavigate } from 'react-router-dom';\nimport { getUserInfo, doFollow, cancelFollow } from '../../api/user';\n\nconst ProfileButton = ({ userId, isFollowed, setProfileInfo }) => {\n\tconst navigate = useNavigate();\n\tconst [userid, setUserid] = useState('');\n\tconst [followed, setFollowed] = useState(isFollowed);\n\tuseEffect(() => {\n\t\tconst fetch = async () => {\n\t\t\tconst data = await getUserInfo();\n\t\t\tsetUserid(data.userInfo.userId);\n\t\t};\n\t\tfetch();\n\t}, []);\n\n\tconst doFollowClickHandler = async () => {\n\t\tconst ret = await doFollow();\n\t\tif (ret.result === 'success') {\n\t\t\tsetFollowed(!followed);\n\t\t\tsetProfileInfo(profileInfo => {\n\t\t\t\treturn { ...profileInfo, userFollowedCnt: profileInfo.userFollowedCnt + 1 };\n\t\t\t});\n\t\t}\n\t};\n\n\tconst cancelFollowClickHandler = async () => {\n\t\tconst ret = await cancelFollow();\n\t\tif (ret.result === 'success') {\n\t\t\tsetFollowed(!followed);\n\t\t\tsetProfileInfo(profileInfo => {\n\t\t\t\treturn { ...profileInfo, userFollowedCnt: profileInfo.userFollowedCnt - 1 };\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tcss={css`\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 14px;\n\t\t\t`}\n\t\t>\n\t\t\t{followed ? (\n\t\t\t\t<Button\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tmargin: 10px;\n\t\t\t\t\t\tborder: 2px solid ${colors.green100};\n\t\t\t\t\t\tborder-radius: 14px;\n\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t`}\n\t\t\t\t\ttype=\"active\"\n\t\t\t\t\tlabel=\"FOLLOW\"\n\t\t\t\t\tonClick={doFollowClickHandler}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tmargin: 10px;\n\t\t\t\t\t\tborder: 2px solid ${colors.green100};\n\t\t\t\t\t\tborder-radius: 14px;\n\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t`}\n\t\t\t\t\ttype=\"outlined\"\n\t\t\t\t\tlabel=\"UNFOLLOW\"\n\t\t\t\t\tonClick={cancelFollowClickHandler}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<Button\n\t\t\t\tcss={css`\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 10px;\n\t\t\t\t\tmargin: 10px;\n\t\t\t\t\tborder: 2px solid ${colors.green100};\n\t\t\t\t\tborder-radius: 14px;\n\t\t\t\t\tbox-shadow: none;\n\t\t\t\t`}\n\t\t\t\ttype=\"outlined\"\n\t\t\t\tlabel=\"CHAT\"\n\t\t\t\tonClick={() =>\n\t\t\t\t\tnavigate('/chat/room', {\n\t\t\t\t\t\tstate: { roomId: null, receiverId: userId },\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default ProfileButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}