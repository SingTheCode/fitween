{"ast":null,"code":"import _regeneratorRuntime from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/singco/dev/projects/S07P12C104/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useState,useEffect}from'react';/** @jsxImportSource @emotion/react */import{css}from'@emotion/react';import styled from'styled-components';import API from'../../api';import TopNavigation from'../../components/Common/TopNavigation/TopNavigation';import BottomNavigation from'../../components/Common/BottomNavigation/BottomNavigation';import{useNavigate,useParams}from'react-router-dom';import null_profile from'../../assets/null_profile_img.png';import gallery_img from'../../assets/gallery_img.png';import ProfileTop from'../../components/Profile/ProfileTop';import ProfileButton from'../../components/Profile/ProfileButton';import{useUserDispatch,useUserState}from'../../context/User/UserContext';import{getUserInfo}from'../../api/user';import profile_menu from'../../assets/profile_menu.svg';import Modal from'../../components/Common/Modal/Modal';import colors from'../../constants/colors';import{setLogout}from'../../context/User/UserTypes';import{jsx as _jsx}from\"@emotion/react/jsx-runtime\";import{jsxs as _jsxs}from\"@emotion/react/jsx-runtime\";import{Fragment as _Fragment}from\"@emotion/react/jsx-runtime\";var Hr=styled.hr(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\tborder: none;\\n\\tborder-bottom: 1px solid \",\";\\n\"])),colors.grey50);var ProfileUser=function ProfileUser(_ref){var articleId=_ref.articleId;var _useParams=useParams(),userId=_useParams.userId;var _useUserState=useUserState(),loginedUserId=_useUserState.loginedUserId;var navigate=useNavigate();var userDispatch=useUserDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profileInfo=_useState2[0],setProfileInfo=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalVisible=_useState4[0],setModalVisible=_useState4[1];var logoutClickHandler=function logoutClickHandler(){userDispatch(setLogout());API.defaults.headers.common['Authorization']='';};useEffect(function(){var fetch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserInfo(userId);case 2:data=_context.sent;if(data.result==='fail'){navigate('/main');}setProfileInfo(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetch(){return _ref2.apply(this,arguments);};}();fetch();},[]);var openModal=function openModal(){setModalVisible(true);};var closeModal=function closeModal(){setModalVisible(false);};return _jsxs(_Fragment,{children:[profileInfo&&_jsx(TopNavigation,{backClick:true,onBackClick:function onBackClick(){return navigate(-1);},leftContent:_jsx(\"div\",{children:profileInfo.user.userId}),rightMenu:loginedUserId===profileInfo.user.userId&&_jsx(\"img\",{onClick:function onClick(){openModal();},src:profile_menu,alt:\"\"})}),_jsxs(\"div\",{className:\"wrapper\",style:{width:'100%',height:'100%',overflowY:'scroll'},children:[modalVisible&&_jsx(Modal,{visible:modalVisible,maskClosable:true,onClose:closeModal,children:_jsxs(\"div\",{css:css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\t\\t\\t\\t\\ttext-align: center;\\n\\t\\t\\t\\t\\t\\t\\t\\tfont-family: 'Regular';\\n\\t\\t\\t\\t\\t\\t\\t\\tfont-size: 20px;\\n\\t\\t\\t\\t\\t\\t\\t\\tline-height: 20px;\\n\\t\\t\\t\\t\\t\\t\\t\"]))),children:[_jsx(\"div\",{style:{padding:'5px'},children:\"\\uB0B4 \\uC815\\uBCF4 \\uC218\\uC815\"}),_jsx(Hr,{}),_jsx(\"div\",{style:{padding:'5px'},children:\"\\uB0B4 \\uB3D9\\uB124 \\uC218\\uC815\"}),_jsx(Hr,{}),_jsx(\"div\",{style:{padding:'5px'},onClick:function onClick(){return logoutClickHandler;},children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"}),_jsx(Hr,{}),_jsx(\"div\",{style:{padding:'5px'},children:\"\\uD0C8\\uD1F4\\uD558\\uAE30\"}),_jsx(Hr,{})]})}),_jsxs(\"div\",{children:[profileInfo&&_jsx(ProfileTop,{imgSrc:null_profile,followerCount:profileInfo.userFollowerCount,followingCount:profileInfo.userFollowingCount,clothesCount:profileInfo.articleCount},profileInfo.user.userId),profileInfo&&loginedUserId!==profileInfo.user.userId&&_jsx(ProfileButton,{isFollowed:profileInfo.isFollowed,setProfileInfo:setProfileInfo})]}),_jsx(\"div\",{css:css(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\t\\tflex-direction: column;\\n\\t\\t\\t\\t\\t\"]))),children:_jsx(\"div\",{css:css(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\t\\t\\t\\tdisplay: grid;\\n\\t\\t\\t\\t\\t\\t\\tgrid-template-columns: 1fr 1fr;\\n\\t\\t\\t\\t\\t\\t\\tgrid-template-rows: auto;\\n\\t\\t\\t\\t\\t\\t\\tplace-items: center;\\n\\t\\t\\t\\t\\t\\t\\tgap: 10px;\\n\\t\\t\\t\\t\\t\\t\\tpadding: 10px;\\n\\t\\t\\t\\t\\t\\t\"]))),children:_jsx(\"img\",{css:css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n\\t\\t\\t\\t\\t\\t\\t\\tdisplay: flex;\\n\\t\\t\\t\\t\\t\\t\\t\\twidth: 100%;\\n\\t\\t\\t\\t\\t\\t\\t\\theight: 100%;\\n\\t\\t\\t\\t\\t\\t\\t\"]))),src:gallery_img,alt:\"\",onClick:function onClick(){return navigate(\"/article/\".concat(articleId));}})})})]}),_jsx(BottomNavigation,{})]});};export default ProfileUser;","map":{"version":3,"names":["React","useState","useEffect","css","styled","API","TopNavigation","BottomNavigation","useNavigate","useParams","null_profile","gallery_img","ProfileTop","ProfileButton","useUserDispatch","useUserState","getUserInfo","profile_menu","Modal","colors","setLogout","Hr","hr","grey50","ProfileUser","articleId","userId","loginedUserId","navigate","userDispatch","profileInfo","setProfileInfo","modalVisible","setModalVisible","logoutClickHandler","defaults","headers","common","fetch","data","result","openModal","closeModal","user","width","height","overflowY","padding","userFollowerCount","userFollowingCount","articleCount","isFollowed"],"sources":["/Users/singco/dev/projects/S07P12C104/client/src/pages/Profile/ProfileUser.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport styled from 'styled-components';\n\nimport API from '../../api';\nimport TopNavigation from '../../components/Common/TopNavigation/TopNavigation';\nimport BottomNavigation from '../../components/Common/BottomNavigation/BottomNavigation';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport null_profile from '../../assets/null_profile_img.png';\nimport gallery_img from '../../assets/gallery_img.png';\nimport ProfileTop from '../../components/Profile/ProfileTop';\nimport ProfileButton from '../../components/Profile/ProfileButton';\nimport { useUserDispatch, useUserState } from '../../context/User/UserContext';\nimport { getUserInfo } from '../../api/user';\nimport profile_menu from '../../assets/profile_menu.svg';\nimport Modal from '../../components/Common/Modal/Modal';\nimport colors from '../../constants/colors';\nimport { setLogout } from '../../context/User/UserTypes';\n\nconst Hr = styled.hr`\n\tborder: none;\n\tborder-bottom: 1px solid ${colors.grey50};\n`;\n\nconst ProfileUser = ({ articleId }) => {\n\tconst { userId } = useParams();\n\tconst { loginedUserId } = useUserState();\n\tconst navigate = useNavigate();\n\tconst userDispatch = useUserDispatch();\n\tconst [profileInfo, setProfileInfo] = useState(null);\n\tconst [modalVisible, setModalVisible] = useState(false);\n\n\tconst logoutClickHandler = () => {\n\t\tuserDispatch(setLogout());\n\t\tAPI.defaults.headers.common['Authorization'] = '';\n\t};\n\n\tuseEffect(() => {\n\t\tconst fetch = async () => {\n\t\t\tconst data = await getUserInfo(userId);\n\n\t\t\tif (data.result === 'fail') {\n\t\t\t\tnavigate('/main');\n\t\t\t}\n\t\t\tsetProfileInfo(data);\n\t\t};\n\t\tfetch();\n\t}, []);\n\n\tconst openModal = () => {\n\t\tsetModalVisible(true);\n\t};\n\n\tconst closeModal = () => {\n\t\tsetModalVisible(false);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{profileInfo && (\n\t\t\t\t<TopNavigation\n\t\t\t\t\tbackClick\n\t\t\t\t\tonBackClick={() => navigate(-1)}\n\t\t\t\t\tleftContent={<div>{profileInfo.user.userId}</div>}\n\t\t\t\t\trightMenu={\n\t\t\t\t\t\tloginedUserId === profileInfo.user.userId && (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\topenModal();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tsrc={profile_menu}\n\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<div\n\t\t\t\tclassName=\"wrapper\"\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\toverflowY: 'scroll',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{modalVisible && (\n\t\t\t\t\t<Modal visible={modalVisible} maskClosable onClose={closeModal}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t\tfont-family: 'Regular';\n\t\t\t\t\t\t\t\tfont-size: 20px;\n\t\t\t\t\t\t\t\tline-height: 20px;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div style={{ padding: '5px' }}>내 정보 수정</div>\n\t\t\t\t\t\t\t<Hr />\n\t\t\t\t\t\t\t<div style={{ padding: '5px' }}>내 동네 수정</div>\n\t\t\t\t\t\t\t<Hr />\n\t\t\t\t\t\t\t<div style={{ padding: '5px' }} onClick={() => logoutClickHandler}>\n\t\t\t\t\t\t\t\t로그아웃\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Hr />\n\t\t\t\t\t\t\t<div style={{ padding: '5px' }}>탈퇴하기</div>\n\t\t\t\t\t\t\t<Hr />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Modal>\n\t\t\t\t)}\n\t\t\t\t{/* 프로필 상단 - 바이오, 버튼 */}\n\t\t\t\t<div>\n\t\t\t\t\t{/* 프로필 바이오 */}\n\t\t\t\t\t{profileInfo && (\n\t\t\t\t\t\t<ProfileTop\n\t\t\t\t\t\t\tkey={profileInfo.user.userId}\n\t\t\t\t\t\t\timgSrc={null_profile}\n\t\t\t\t\t\t\tfollowerCount={profileInfo.userFollowerCount}\n\t\t\t\t\t\t\tfollowingCount={profileInfo.userFollowingCount}\n\t\t\t\t\t\t\tclothesCount={profileInfo.articleCount}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* 버튼 */}\n\t\t\t\t\t{profileInfo && loginedUserId !== profileInfo.user.userId && (\n\t\t\t\t\t\t<ProfileButton isFollowed={profileInfo.isFollowed} setProfileInfo={setProfileInfo} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{/* 옷장 사진 */}\n\t\t\t\t<div\n\t\t\t\t\tcss={css`\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t`}\n\t\t\t\t>\n\t\t\t\t\t{/* 사진 */}\n\t\t\t\t\t<div\n\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\tdisplay: grid;\n\t\t\t\t\t\t\tgrid-template-columns: 1fr 1fr;\n\t\t\t\t\t\t\tgrid-template-rows: auto;\n\t\t\t\t\t\t\tplace-items: center;\n\t\t\t\t\t\t\tgap: 10px;\n\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tcss={css`\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\t`}\n\t\t\t\t\t\t\tsrc={gallery_img}\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tonClick={() => navigate(`/article/${articleId}`)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<BottomNavigation />\n\t\t</>\n\t);\n};\n\nexport default ProfileUser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}